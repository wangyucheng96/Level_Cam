import fit
from fit import *

# ls = [20.42, 20.43, 20.40, 20.43, 20.42, 20.43, 20.39, 20.30, 20.40, 20.43, 20.42, 20.41, 20.39, 20.39, 20.40]
# v_save = [20.42, 20.43, 20.40, 20.43, 20.42, 20.43, 20.39, 20.30, 20.40, 20.43, 20.42, 20.41, 20.39, 20.39, 20.40]
# ls0 = [119.5402005307842,119.92367896728683,118.82747462799307,119.7200617051567,119.86675248428946,119.06021459639305,118.70550170290517,118.33170676144073,119.11376375227701,119.27413440158125]
# ls2 = [119.30586668016622,119.52296842593933,118.53202262037667,118.70916225615656,118.31006316730054,118.98406611359678,119.69806796929333,118.85294797329698,119.63053553114878]
# ls3 = [118.99702784896363,120.11037217616104,119.75261417077854,119.42683408182347,118.92044150549918,119.13312950235559,119.28502433811082,119.65680391911883,119.1036597766215,118.87029437860474]
# ls4 = [118.93920020270161,120.03605082479771,119.93349280575057,118.7867011592025,119.03181892371504,118.4956675741123,119.10178397159325,119.33880389563274,120.5400427482673,119.94370167970192]
# ls_t = fit.deMerror(ls2)
# print(ls2)
# print(ls_t)
# print(np.mean(ls_t))
# n1 = np.array(ls4)
# print(np.std(n1, ddof=1))
f = open("data/analyze.txt", "r")
lines = f.readlines()
for line in lines:
    ls_new = []
    line = line.strip('\n')  # 删除\n
    line = line.strip(',')
    # print(line)
    ls_i = eval(line)
    # print(ls_i)
    for element in ls_i:
        ls_new.append(round(element, 3))
    print(ls_new)

    ls_t = fit.deMerror(ls_new)
    # print(ls_i)
    # print(ls_t)
    mean_val = np.mean(ls_t)
    # print("mean ", mean_val)
    r = round(mean_val, 2)
    print("mean ", r)
    n1 = np.array(ls_t)
    print("std ", round(np.std(n1, ddof=1), 3))
